install:
  postgresql: true
  vault: false

participant:
  id: "BPNL000000000CX4"

iatp:
  # Decentralized Identifier
  id: "did:web:portal-backend.int.catena-x.net:api:administration:staticdata:did:BPNL000000000CX4"
  trustedIssuers:
    - "did:web:tbd"
  sts:
    dim:
      url: ""
    oauth:
      token_url: "https://bpnl000000000cx4-bpdm--provider.authentication.eu10.hana.ondemand.com/oauth/token"
      client:
        id: "afe9d06b-e269-49cb-ab44-51deb0fb4d38"
        secret_alias: "int/edc/bpdm/client-secret"

controlplane:
  env:
    EDC_IAM_TRUSTED-ISSUER_ISSUER1_ID: "did:web:tbd"
  endpoints:
    # -- data management api, used by internal users, can be added to an ingress and must not be internet facing
    management:
      # -- authentication key, must be attached to each 'X-Api-Key' request header
      authKey: <path:bpdm/data/int/edc/bpdm/api#management-key>
  bdrs:
    server:
      url: "https://bpn-did-resolution-service.int.catena-x.net/api/directory"
  ## Ingress declaration to expose the network service.
  ingresses:
    ## Public / Internet facing Ingress
    - enabled: true
      annotations:
        cert-manager.io/cluster-issuer: letsencrypt-prod
      # -- The hostname to be used to precisely map incoming traffic onto the underlying network service
      hostname: "business-partners-edc.int.catena-x.net"
      className: "nginx"
      # -- EDC endpoints exposed by this ingress resource
      endpoints:
        - management
        - control
        - protocol
      # -- TLS [tls class](https://kubernetes.io/docs/concepts/services-networking/ingress/#tls) applied to the ingress resource
      tls:
        # -- Enables TLS on the ingress resource
        enabled: true
        # -- If present overwrites the default secret name
        secretName: tls-secret-bpdm-edc-controlplane

dataplane:
  env:
    EDC_IAM_TRUSTED-ISSUER_ISSUER1_ID: "did:web:tbd"
  endpoints:
    proxy:
      authKey: <path:bpdm/data/int/edc/bpdm/api#proxy-key>
  ## Ingress declaration to expose the network service.
  ingresses:
    ## Public / Internet facing Ingress
    - enabled: true
      annotations:
        cert-manager.io/cluster-issuer: letsencrypt-prod
      # -- The hostname to be used to precisely map incoming traffic onto the underlying network service
      hostname: "business-partners-edc.int.catena-x.net"
      # -- EDC endpoints exposed by this ingress resource
      endpoints:
        - public
      # -- Defines the [ingress class](https://kubernetes.io/docs/concepts/services-networking/ingress/#ingress-class)  to use
      className: "nginx"
      # -- TLS [tls class](https://kubernetes.io/docs/concepts/services-networking/ingress/#tls) applied to the ingress resource
      tls:
        # -- Enables TLS on the ingress resource
        enabled: true
        # -- If present overwrites the default secret name
        secretName: tls-secret-bpdm-edc-dataplane
  token:
    signer:
      privatekey_alias: "int/bpdm/edc/token-private-key"
    verifier:
      publickey_alias: "int/bpdm/edc/token-public-key"

postgresql:
  jdbcUrl: "jdbc:postgresql://{{ .Release.Name }}-postgresql:5432/edc"
  primary:
    persistence:
      enabled: true
  auth:
    database: "edc"
    username: "user"
    password: <path:bpdm/data/int/bpdm/edc/postgres#password>

vault:
  hashicorp:
    url: "https://vault.core.catena-x.net"
    token: <path:bpdm/data/int/bpdm/edc/vault#token>
    paths:
      secret: /v2/bpdm